"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var yallLoad=function e(t,r){if(t.tagName==="IMG"){var o=t.parentNode;if(o.tagName==="PICTURE"){Array.from(o.querySelectorAll("source")).forEach(function(e){for(var t in e.dataset){e.setAttribute(t,e.dataset[t]);e.removeAttribute("data-"+t)}});for(var a in t.dataset){t.setAttribute(a,t.dataset[a]);t.removeAttribute("data-"+a)}}else{var n=new Image;n.src=t.dataset.src;if(typeof t.dataset.srcset!=="undefined"){n.srcset=t.dataset.srcset}if(r.decodeSupported===true){n.decode().then(function(){n.alt=t.alt;n.width=t.width;n.height=t.height;t.replaceWith(n)})}else{for(var i in t.dataset){t.setAttribute(i,t.dataset[i]);t.removeAttribute("data-"+i)}}}}if(t.tagName==="VIDEO"){Array.from(t.querySelectorAll("source")).forEach(function(e){for(var t in e.dataset){e.setAttribute(t,e.dataset[t]);e.removeAttribute("data-"+t)}});t.load()}if(t.tagName==="IFRAME"){t.src=t.dataset.src;t.removeAttribute("data-src")}};var yall=function e(t){var o={IntersectionObserverSupported:"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,mutationObserverSupported:"MutationObserver"in window,requestIdleCallbackSupported:"requestIdleCallback"in window,decodeSupported:"decode"in new Image,eventsToBind:[[document,"scroll"],[document,"touchmove"],[window,"resize"],[window,"orientationchange"]]};var r={lazyClass:"lazy",throttleTime:200,idlyLoad:false,idleLoadTimeout:100,observeChanges:false,observeRootSelector:"body"};var a=(typeof t==="undefined"?"undefined":_typeof(t))==="object"?Object.assign(r,t):r;var n="img."+a.lazyClass+",video."+a.lazyClass+",iframe."+a.lazyClass;var i=Array.from(document.querySelectorAll(n));if(o.IntersectionObserverSupported===true){var s=new IntersectionObserver(function(e,r){e.forEach(function(e){var t=e.target;if(e.isIntersecting===true){if(a.idlyLoad===true&&o.requestIdleCallbackSupported===true){requestIdleCallback(function(){yallLoad(t,o)},{timeout:a.idleLoadTimeout})}else{yallLoad(t,o)}t.classList.remove(a.lazyClass);r.unobserve(t);i=i.filter(function(e){return e!==t})}})});i.forEach(function(e){return s.observe(e)})}else{var l=function t(){var e=false;if(e===false&&i.length>0){e=true;setTimeout(function(){i.forEach(function(t){if(t.getBoundingClientRect().top<=window.innerHeight&&t.getBoundingClientRect().bottom>=0&&getComputedStyle(t).display!=="none"){if(a.idlyLoad===true&&o.requestIdleCallbackSupported===true){requestIdleCallback(function(){yallLoad(t,o)},{timeout:a.idleLoadTimeout})}else{yallLoad(t,o)}t.classList.remove(a.lazyClass);i=i.filter(function(e){return e!==t})}});e=false;if(i.length===0&&a.observeChanges===false){o.eventsToBind.foreach(function(e){return e[0].removeEventListener(e[1],t)})}},a.throttleTime)}};o.eventsToBind.forEach(function(e){return e[0].addEventListener(e[1],l)})}if(o.mutationObserverSupported===true&&a.observeChanges===true){var u=new MutationObserver(function(e){e.forEach(function(e){Array.from(document.querySelectorAll(n)).forEach(function(e){if(i.indexOf(e)===-1){i.push(e);if(o.IntersectionObserverSupported===true){s.observe(e)}}})})});u.observe(a.observeRootSelector==="body"?document.body:document.querySelector(a.observeRootSelector),{childList:true})}};